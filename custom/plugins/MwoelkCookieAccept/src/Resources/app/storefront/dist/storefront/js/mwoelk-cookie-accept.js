(window.webpackJsonp=window.webpackJsonp||[]).push([["mwoelk-cookie-accept"],{J9dE:function(e,o,t){"use strict";t.r(o);var n=t("FGIj"),i=t("prSB"),r=t("41MI"),a=t("k8s9");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,o){return!o||"object"!==u(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):o}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,o){return(f=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e})(e,o)}var p,k,y,g=null,b=function(e){function o(){return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),s(this,l(o).apply(this,arguments))}var t,n,r;return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&f(e,o)}(o,e),t=o,(n=[{key:"init",value:function(){this._registerEvents(this.el)}},{key:"_registerEvents",value:function(){var e=this.options.submitEvent;this.el.addEventListener(e,this.acceptAllCookies.bind(this))}},{key:"_getCookies",value:function(e){var o=window.router["frontend.cookie.offcanvas"],t=new a.a(window.accessKey,window.contextToken),n=this._getCookieConfigurationPlugin().options.cookieSelector;g&&g.abort(),g=t.get(o,(function(o){var t=(new DOMParser).parseFromString(o,"text/html"),i=Array.from(t.querySelectorAll(n)).map((function(e){var o=e.dataset;return{cookie:o.cookie,value:o.cookieValue,expiration:o.cookieExpiration,required:o.cookieRequired}}));e(i)}))}},{key:"_getCookieConfigurationPlugin",value:function(){var e=window.PluginManager.getPluginInstances("CookieConfiguration");return e?e[0]:(console.error("CookieConfiguration is missing!"),null)}},{key:"acceptAllCookies",value:function(){var e=this,o=this._getCookieConfigurationPlugin(),t=o.options.cookiePreference;this._getCookies((function(n){var r=[];n.forEach((function(e){var o=e.cookie,t=e.value,n=e.expiration;r.push(o),o&&t&&i.a.setItem(o,t,n)})),i.a.setItem(t,"1","30"),o._handleUpdateListener(r,[]),o._hideCookieBar(),e.options.reloadPage&&window.location.reload()}))}}])&&c(t.prototype,n),r&&c(t,r),o}(n.a);p=b,k="options",y={submitEvent:r.a.isTouchDevice()?"touchstart":"click",reloadPage:!1},k in p?Object.defineProperty(p,k,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[k]=y,window.PluginManager.register("MwoelkCookiePlugin",b,"[data-mwoelk-cookie-plugin]")}},[["J9dE","runtime","vendor-node","vendor-shared"]]]);