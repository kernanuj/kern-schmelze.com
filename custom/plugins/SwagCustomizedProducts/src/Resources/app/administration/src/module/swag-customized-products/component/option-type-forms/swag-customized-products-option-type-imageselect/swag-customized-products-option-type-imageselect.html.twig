{% block swag_customized_products_option_type_base_tree %}
    {% parent %}
{% endblock %}

{% block swag_customized_products_option_type_base_tree_content_root_component %}
{% endblock %}

{% block swag_customized_products_option_type_base_tree_content_component %}
    {% block swag_customized_products_option_type_imageselect_content_listener %}
        <sw-upload-store-listener
            :uploadTag="uploadTag"
            autoUpload
            @media-upload-finish="setMediaItem">
        </sw-upload-store-listener>
    {% endblock %}

    {% block swag_customized_products_option_type_imageselect_content_component %}
        <sw-media-compact-upload
            v-if="data.value"
            class="swag-customized-products-option-type-imageselect__imageupload"
            :label="$tc('swag-customized-products.detail.tabGeneral.labelImage')"
            :defaultFolder="templateRepository.schema.entity"
            :source="displayMediaItem"
            :allowMultiSelect="false"
            :uploadTag="uploadTag"
            :error="activeItemValueValueError"
            required
            @selection-change="setMediaFromSelection"
            @media-drop="({ targetId }) => { data.value._value = targetId }"
            @media-upload-remove-image="onUnlinkImage">
        </sw-media-compact-upload>
    {% endblock %}
{% endblock %}
